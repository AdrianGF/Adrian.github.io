<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
Design by TEMPLATED
http://templated.co
Released for free under the Creative Commons Attribution License

Name       : Captive Green 
Description: A two-column, fixed-width design with dark color scheme.
Version    : 1.0
Released   : 20111225

-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>Heroku</title>
	<link href='http://fonts.googleapis.com/css?family=Ubuntu+Condensed' rel='stylesheet' type='text/css' />
	<link href='http://fonts.googleapis.com/css?family=Marvel' rel='stylesheet' type='text/css' />
	<link href='http://fonts.googleapis.com/css?family=Marvel|Delius+Unicase' rel='stylesheet' type='text/css' />
	<link href='http://fonts.googleapis.com/css?family=Arvo' rel='stylesheet' type='text/css' />
	<link href="../style.css" rel="stylesheet" type="text/css" media="screen" />
</head>

<body>
	<div id="wrapper">
		<div id="wrapper2">
			<div id="header" class="container">
				<div id="logo">
					<h1><a href="#">Heroku <span>7</span></a></h1>
				</div>
				<div id="menu">
					<ul>
						<li class="current_page_item"><a href="../index.html">Homepage</a></li>
					</ul>
				</div>
			</div>
			<div id="banner"></div>
			<!-- end #header -->
			<div id="page">
				<div id="content">
					<div class="post">

						<h2 class="title"><a href="#">Heroku</a></h2>
						<p class="meta"><span class="date">Feb 20, 2020</span><span class="posted">Posted by <a
									href="#">Adrián</a></span></p>
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
							<!--Aquí la practica-->
							<div style="text-align: center;">
								<h1>Heroku</h1>
							</div>

							<fieldset>
								<legend>Heroku</legend>
								<p>
									Heroku es uno de los PaaS más utilizados en la actualidad en entornos 
									empresariales por su fuerte enfoque en resolver el despliegue de una aplicación. 
									Ademas te permite manejar los servidores y sus configuraciones, escalamiento y la administración. 
								</p>
								<p>
									Heroku utiliza contenedores Linux (Ubuntu) los cuales son llamados “dynos”, 
									estos son utilizados para alojar las aplicaciones web, webservices o 
									aplicaciones que se ejecutan del lado del servidor, 
									así mismo cuenta con la posibilidad de instalar add-ons para agregar 
									funcionalidades a dichos contenedores.
								</p>
							</fieldset>
							<hr>
							<div style="text-align: center;">
								<h1>-Parte 1-</h1>
							</div>
							<section>
								<p style="text-align: center;">En esta practica tenemos que crear una app en heroku:</p>
								<h3>Heroku</h3>

								<p>Tenemos que entrar en la página de Heroku y registrarnos:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_01.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_01.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<p>Una vez registrados, crearemos una app:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_02.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_02.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<br>
								<div class="img_container">
									<a href="../images/heroku_03.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_03.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<br>
								<hr>
								<br>
								<p>Después, crearemos un github, con el servidor de DJango:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_04.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_04.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<p>Instalamos heroku:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_05.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_05.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<p>E iniciamos sesión:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_06.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_06.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<div class="img_container">
									<a href="../images/heroku_07.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_07.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<hr>
								<p>A continuación lo hacemos un git push a heroku:</p>
								<p><i>Si salta el error de collectstatic tenemos que escribir el siguinete comando:</i></p>
								<br>
								<div style="background-color: black; color: lightblue;">
									<p style="padding: 5px;">$  heroku config:set DISABLE_COLLECTSTATIC=1</p>
								</div>
								<br>
								<br>
								<div class="img_container">
									<a href="../images/heroku_08.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_08.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<div class="img_container">
									<a href="../images/heroku_09.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_09.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<p>Heroku detecta a la perfeción los cambios:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_10.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_10.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<hr>
								<br>
								<p>Ahora para que nuestra web funcione tenemos que añadir un documento Procfile:</p>
								<p>Se tiene que instalar el gunicorn con el siguiente comando:</p>
								<br>
								<div style="background-color: black; color: lightblue;">
									<p style="padding: 5px;">$ sudo pip install gunicorn </p>
								</div>
								<br>
								<p><i>Se puede añdir el gunicorn en el requirements.txt</i></p>
								<br>
								<p>Ponemos estos datos en el documento:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_11.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_11.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<p>Y subimos los cambios:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_12.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_12.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<br>
								<div class="img_container">
									<a href="../images/heroku_13.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_13.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<p>Podemos entrar ya a nuestra aplicación, pero no tendra acceso, así que tendremos que hacer lo siguiente:</p>
								<div class="img_container">
									<a href="../images/heroku_14.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_14.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<p>Tenemos que subir los cambios otra vez:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_15.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_15.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<p>Finalmente tenemos acceso a nuestra aplicación:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_16.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_16.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
							</section>

							<hr>

							<div style="text-align: center;">
								<h1>-Parte 2-</h1>
							</div>
							<section>
								<h3>Configuración de variables</h3>
								<p>Tendremos que ir a Stting > ConfigVars</p>
								<p>En DATABASE_URL contaremos con una estructura tal que así:</p>
								<br>
								<div style="background-color: black; color: lightblue;">
									<p style="padding: 5px;">postgres://{user}:{password}@{hostname}:{port}/{database-name}</p>
								</div>
								<br>
								<p>Usaremos es información para completar la configuracion del servidor, como crear el "DATABASE_HOST" con la parte de {hostname}.</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_17.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_17.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<p>Y en el setting.py, ponderemos la información necesaria:{hostname}{user}{password}{port}, y el os.environ del host:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_18.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_18.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<p>Ponemos en un .env la info del host:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_19.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_19.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<p>Hacemos e push y vamos a la consola de heroku y aplicamos las migraciones:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_20.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_20.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<p>Tendremos que crear nusetro superuser:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_21.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_21.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<hr>
								<p>Ahora podemos ya ver que nusetra base esta funcionando:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_22.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_22.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
							</section>
							
							<hr>

							<div style="text-align: center;">
								<h1>-Parte 3-</h1>
							</div>
							<section>
								<h3>Instalación y configuración de Add-ons necesarios via Heroku CLI</h3>

								<p>Heroku ya tiene un add-on que es necesario para la base de postgres:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_22.5.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_22.5.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<p>También podemos instalar nosotros los add-ons que necesitemos:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_23.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_23.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<p>Pero al querer instalar el add-on me pide la "credit card" incluso al ser free:</p>
								<br>
								<div class="img_container">
									<a href="../images/heroku_24.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_24.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
							</section>

							<hr>

							<div style="text-align: center;">
								<h1>-Parte 4-</h1>
							</div>
							<section>
								<h3>Prueba de la aplicación en entorno local</h3>

								<p>Slamente tenemos que escribir el comando:</p>
								<br>
								<div style="background-color: black; color: lightblue;">
									<p style="padding: 5px;">$ heroku local web</p>
								</div>
								<br>
								<div class="img_container">
									<a href="../images/heroku_25.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_25.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<p>Y en el puerto :5000 estará nuestra app "he tenido que arreglar algunas cosas, como añadir el __init__.py en algunas carpetas...":</p>
								<div class="img_container">
									<a href="../images/heroku_26.png" target="_blank">
										<p>Abrir imagen</p>
										<img class="img" src="../images/heroku_26.png" alt="Heroku" height="300px">
									</a>
								</div>
								<br>
								<hr>
								<div style="text-align: center;">
									<h1><a href="https://practica-heroku-1.herokuapp.com/test/"> -Link a la app de heroku-</a></h1>
								</div>
							</section>
						</div>

					</div>
				</div>
				<!-- end #content -->
				<div id="sidebar">
					<ul>
						<li>
							<h2>Todas las practicas:</h2>
							<ul>
								<li><a href="./practica_1.html">Practica_1</a></li>
								<li><a href="./practica_2.html">Practica_2</a></li>
								<li><a href="./practica_3.html">Practica_3</a></li>
								<li><a href="./practica_4.html">Practica_4</a></li>
								<li><a href="./practica_5.html">Practica_5</a></li>
								<li><a href="./practica_6.html">Practica_6</a></li>
								<li><a href="./practica_7.html">Practica_7</a></li>
							</ul>
						</li>

					</ul>
				</div>
				<!-- end #sidebar -->
				<div style="clear: both;">&nbsp;</div>
			</div>
			<!-- end #page -->
			<div id="footer">
				<p>&copy; Untitled. All rights reserved. Design by <a href="http://templated.co"
						rel="nofollow">TEMPLATED</a>.</p>
			</div>
		</div>
	</div>
	<!-- end #footer -->
</body>

</html>